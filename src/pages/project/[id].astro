---
import { Project } from "@/domain/projects/models/project";
import { ProjectPage } from "@/domain/projects/components/project-page";
import BaseLayout from "@/layouts/BaseLayout.astro";

const { id } = Astro.params;
if (!id) {
	return Astro.redirect("/dashboard");
}

const project = await Project.getById(id);

if (!project) {
	return Astro.redirect("/dashboard");
}
---

<BaseLayout title={project.name} fullWidth projectName={project.name}>
  <ProjectPage client:load projectId={id} initialPrompt={project.initialPrompt} />
</BaseLayout>
